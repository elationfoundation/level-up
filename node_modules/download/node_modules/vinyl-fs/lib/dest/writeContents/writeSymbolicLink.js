'use strict';

var fs = require('graceful-fs');

<<<<<<< HEAD
function writeSymbolicLink(writePath, file, written) {
  // TODO handle symlinks properly
  fs.symlink(file.symlink, writePath, function(err) {
    if (isFatalError(err)) {
      return written(err);
    }

    written();
  });
}

function isFatalError(err) {
  return (err && err.code !== 'EEXIST');
}

=======
function writeSymbolicLink(writePath, file, cb) {
  fs.symlink(file.symlink, writePath, function(err) {
    if (err && err.code !== 'EEXIST') {
      return cb(err);
    }

    cb(null, file);
  });
}

>>>>>>> 16a22f1a2827e4eddfc089d7e2423b046879a4ce
module.exports = writeSymbolicLink;
